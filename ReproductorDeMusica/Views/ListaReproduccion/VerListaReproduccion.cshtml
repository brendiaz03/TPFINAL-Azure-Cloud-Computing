@model ReproductorDeMusica.Web.Models.ListaReproduccionCancionViewModel
@{
    int index = 1;
}

<head>
    <link rel="stylesheet" type="text/css" href="~/css/ListaReproduccion/VerListaReproduccion.css" />
    <link rel="stylesheet" type="text/css" href="~/css/Cancion/Index.css" />
</head>

<body>

    <div class="container">
        <div class="row align-items-center justify-content-between">
            <h2 class="col-auto">@Model.ListaReproduccion.Nombre</h2>

            <button id="addSongButton" title="Agregar canción">
                <a asp-controller="Cancion" asp-action="GetAllCancionesDisponibles" asp-route-idListaReproduccion="@Model.ListaReproduccion.Id">
                    <span class="material-symbols-outlined text-white">
                        add_circle
                    </span>
                </a>
            </button>

        </div>

        <img src="@Model.ListaReproduccion.UrlPortada" alt="Imagen de la lista" />

        @if (Model.Canciones != null && Model.Canciones.Any())
        {
            <table class="table">
                        <thead>
                            <tr>
                                <th scope="col">#</th>
                                <th scope="col">Título</th>
                                <th scope="col">Artista</th>
                                <th scope="col">
                                    <!-- Columna para borrar la canción de la playlist -->
                                </th>
                            </tr>
                        </thead>
                        <tbody>
                @foreach (var cancion in Model.Canciones)
                {
                    
                            <tr class="playlist-item" data-cancion-id="@cancion.Id">
                                <td class="playlist-index" style="width: 30px;">
                                    <span class="index-text">@index</span>
                                <button class="btn btn-sm btn-reproducir playlist-play-btn" style="display: none; width: 24px; height: 24px; padding: 0; font-size: 16px;" data-cancion-id="@cancion.Id" data-ruta-audio="@cancion.RutaAudio">
                                        <i class="fa-solid fa-play"></i>
                                    </button>
                                </td>
                                <td>
                                <img src="@cancion.UrlPortada" alt="Imagen de @cancion.Titulo" class="img-thumbnail" style="width: 30px; height: 30px; margin-right: 10px;">
                                @cancion.Titulo
                                </td>
                                <td>@cancion.Artista</td>
                                <td>
                                    <button class="delete-song-button" data-cancion-id="@cancion.Id" data-lista-id="@Model.ListaReproduccion.Id">
                                        <i class="fa-solid fa-trash delete"></i>
                                    </button>
                                </td>
                            </tr>

                    index++;
                }
                </tbody>
            </table>
        }
        else
        {
            <p>No hay música en esta lista de reproducción</p>
        }
    </div>

    <script src="~/js/ListaReproduccion/VerListaReproduccion.js"> </script>

</body>
